<mat-card>
  <mat-card-header>
    <mat-card-title>Bienvenue sur le site internet du parc d'attraction</mat-card-title>
  </mat-card-header>
  <mat-card-content>
    <div class="attraction-title">
      <div class="attraction">
        <span>Nom de l'attraction</span>
        <span>Description de l'attraction</span>
        <span>Difficult√© de l'attraction / 5</span>
        <span>Note moyenne de l'attraction /5</span>
      </div>
      <button mat-raised-button color="primary" (click)="openAddCritiqueDialog()">Ajouter une critique</button>
    </div>
    <ng-container >
      <div class="attraction" *ngIf="attraction | async as entry">
        <span >{{entry.nom}}</span>
        <span>{{entry.description}}</span>
        <span>{{entry.difficulte}} / 5</span>
        <span>{{ averageRating | number:'1.1-1' }} / 5</span>
      </div>
    </ng-container>
    <div class="critique-title">
      <div class="critique">
        <span>Prenom</span>
        <span>Nom</span>
        <span>Note</span>
        <span>Critique</span>
      </div>
    </div>
    <ng-container *ngFor="let critique of critiques | async;" >
      <div class="critique">
        @if(!critique.isAnonym) {
          <span>{{critique.name}}</span>
          <span>{{critique.first_name}}</span>
        }
        @else {
          <span>I'm anonymous !!</span>
        }
        <span>{{critique.mark}} / 5</span>
        <span>{{critique.text}}</span>
      </div>
    </ng-container>
  </mat-card-content>
</mat-card>
